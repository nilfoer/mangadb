- old tsumino id_onpage get reused so if i have an old book in my db whose got a new id on tsumino but the old id
    is used for a different book now -> book would get updated with data from a completely different book
    -> also think about using internal id for thumb names
- there shouldnt be duplicate tags in the sense of e.g. "Demong Girl | Succubus" and "Succubus",
    since its impractical for searching
    -> convert site tags to MangaDB tags
- log adding tags or rather lists <- done
    mb also log title/id_onpage+site since id doesnt help me much when db has crashed and its prob a diff id
    -> NO, would require extra query unless i pass manga_db_entry?
- logging in webGUI  
- update queries for new cols/indices
- check newly added books for dl (on production db)
- test triggers
- mb add parent_id field so a chapter/volume can be attributed to a larger book
    also works rn with collection but might spam the display if there are too many chapters+books in a collection
- mb split updating from user action vs. updating from import    


--DONE-------------------------------------------------------------------------------------------------
- remove NOT NULL from rating, rating_full since they are not present on different manga sites (e.g. hitomi.la, nhentai.net dont have a rating system)
        SQLite uses dynamic typing i.e. the datatype of a value is associated with the value itself, not with its 
        container. It does not enforce data type constraints
        -> i can store "N/A" or sth. in rating col if i want to leave the col NOT NULL
        => decided to remove it
- convert multival cols using string_to_list etc.    
- title_foreign can be duplicate e.g. (in prod. db):
    select title_foreign, count(title_foreign) from Tsumino group by title_foreign having ( count(title_foreign) > 1 );
    
    title_foreign                           count
    "SDPO～性務官のススメ～"	                "2"
    "どんな娘もセフレにできちゃう催眠術を手に入れた!?"	"2"
    "ハイエルフ×ハイスクール"	                    "3"
    "乱れ咲き海賊女帝"	                    "3"
    
    SDPO～性務官のススメ～
    http://www.tsumino.com/Book/Info/27637/sdpo-seimukan-no-susume-sdpo
    http://www.tsumino.com/Book/Info/40349/sdpo-seimukan-no-susume-sdpo-sexual-desire-processing-officer-sdpo
    
    どんな娘もセフレにできちゃう催眠術を手に入れた!?
    http://www.tsumino.com/Book/Info/40407/donna-ko-mo-sefri-ni-dekichau-saiminjutsu-o-te-ni-ireta-saimin-shihai-kakudai-h
    http://www.tsumino.com/Book/Info/40408/donna-ko-mo-sefri-ni-dekichau-saiminjutsu-o-te-ni-ireta-i-ve-obtained-a-hypnotic-power-that-lets-me-turn-any-girl-into-a-sex-friend
    
    etc.
    => made title_foreign not unique
- change Tsumino to Books in queries
- mb replace "tsumino.com" with a nr or mb foreign key of diff table since for 2700~ entries it incread the size by 1.5MB
- some collections have a "," in their name e.g. Anyway, I Want to Have Sex With...
    => need to either escape the comma or use a different seperator
- fix booktags missing in production db:
    reason not found yet but since ive used the db recently and it crashes instanly when viewing a book using the webGUI
    its likely that it happened when i edited the DB with SQLiteDatabaseBrowser and not when using my code
    all bookid had been deleted from bridge table BookTags except for entries whoms id didnt exist in Tsumino table anymore
        get url, dled, favorite from corrupt db only when id > last addition of 2018-07-10 backup -> 2274 (first add is 2275)
            -> added-books-since-last-valid-backup_all cols_2018-09-23.csv
            -> added-books-since-last-valid-backup_url,dl,fav_2018-09-23.csv
        use log lines with:
            2018-07-10 22:37:32,145 - manga-db  - INFO   - Setting tags for "http://www.tsumino.com/Book/Info/41160/mama-sho-time-dream-express"! Previous tags were: ['li_to-read']
            2018-07-10 22:37:37,587 - manga-db  - INFO   - The following lists were selected ['li_to-read', 'li_prob-good']
        to add more than standard list (which also can be seen from previously selected part)    
        also look out for: 2018-07-10 23:43:09,664 - manga-db  - INFO   - Tried to add book with title that was already in DB: ALICE INN
            -> all additions since last valid bu with only "li_to-read"
        adding of tags not logged but
            20:12:08 - INFO - Tags set() were successfully removed from book with id "2247"
            means that tags were added or removed -> empty set removed only added tags            